{% extends "base_pure.htm" %}

{% block title %}{{ ron.configname }}{% if ron.name %} - {{ ron.name }}{% endif %}{% endblock %}

{% block head_extras %}
{{ super() }}
<script src="{{ url_for('static', filename='vendor/jquery/jquery.js') }}"></script>
<script src="{{ url_for('static', filename='vendor/leaflet/leaflet.js') }}"></script>
<script src="{{ url_for('static', filename='js/glify-browser.js') }}"></script>
<script src="{{ url_for('static', filename='js/leaflet-glify-layer.js') }}"></script>
<script src="{{ url_for('static', filename='js/controllers.js') }}"></script>
<script src="{{ url_for('static', filename='js/preflight.js') }}"></script>
<script src="{{ url_for('static', filename='js/flash-and-find-by-id.js') }}"></script>
<script src="{{ url_for('static', filename='js/input-unit-converters.js') }}"></script>

<link rel="stylesheet" href="{{ url_for('static', filename='vendor/leaflet/leaflet.css') }}">
{% include 'run_page_bootstrap.js.j2' %}
{% endblock %}

{% block site_header %}
  {% include 'header/_run_header_fixed.htm' %}
{% endblock %}

{% block body_container %}
{% include 'command-bar.htm' %}
{% include 'controls/poweruser_panel.htm' %}
{% include 'controls/unitizer_modal.htm' %}

<div class="wc-container wc-container--fluid">
  <div class="wc-run-layout">
    <nav id="toc"
         class="wc-run-layout__toc"
         aria-label="Run controls navigation">
      <h4>Preflight and Navigation</h4>
      <ol>
        <li><a href="#map">Map &amp; Analysis</a></li>
        <li><a href="#channel-delineation">Channel Delineation</a></li>
        <li><a href="#set-outlet">Outlet</a></li>
        <li><a href="#subcatchments-delineation">Subcatchments Delineation</a></li>
        <li><a href="#landuse">Landuse</a></li>
        <li><a href="#soils">Soils</a></li>
        <li><a href="#climate">Climate</a></li>
        <li><a href="#wepp">WEPP</a></li>
        <li><a href="#legacy-wepp">Legacy WEPP control</a></li>
      </ol>
    </nav>

    <section class="wc-run-layout__content">
      <section id="map">
        {% include 'controls/map.htm' %}
      </section>

      <section id="channel-delineation">
        {% include 'controls/channel_delineation.htm' %}
      </section>

      <section id="set-outlet">
        {% include 'controls/set_outlet.htm' %}
      </section>

      <section id="subcatchments-delineation">
        {% include 'controls/subcatchments.htm' %}
      </section>

      <section id="landuse" class="wc-stack">
        {% include 'controls/landuse.htm' %}
      </section>

      <section id="climate" class="wc-stack">
        {% include 'controls/climate_pure.htm' %}
      </section>

      <section id="soils" class="wc-stack">
        {% include 'controls/soil.htm' %}
      </section>

      <section id="wepp" class="wc-stack">
        {% include 'controls/wepp_pure.htm' %}
      </section>

      <section id="legacy-wepp" class="wc-stack">
        <h2>Legacy WEPP Control</h2>
        <p class="wc-text-muted">Legacy WEPP execution panel placeholder. The existing `_base.htm` version remains available on classic runs pages.</p>
      </section>

      <section id="legacy-debris-flow" class="wc-stack">
        <h2>Legacy Debris Flow Control</h2>
        <p class="wc-text-muted">Legacy Debris Flow execution panel placeholder. The existing `_base.htm` version remains active until the control is converted.</p>
      </section>
      
      <section id="legacy-observed" class="wc-stack">
        <h2>Legacy Observed Control</h2>
        <p class="wc-text-muted">Legacy Observed execution panel placeholder. The existing `_base.htm` version remains active until the control is converted.</p>
      </section>

      <section id="legacy-watar" class="wc-stack">
        <h2>Legacy WATAR Control (ash)</h2>
        <p class="wc-text-muted">Legacy WATAR execution panel placeholder. The existing `_base.htm` version remains active until the control is converted.</p>
      </section>

      <section id="legacy-dss-export" class="wc-stack">
        <h2>Legacy DSS Export Control</h2>
        <p class="wc-text-muted">Legacy DSS Export execution panel placeholder. The existing `_base.htm` version remains active until the control is converted.</p>
      </section>

    </section>
  </div>
</div>
{% endblock %}

{% block script_extras %}
{{ super() }}
<script src="{{ url_for('static', filename='js/tinyqueue.js') }}"></script>
<script src="{{ url_for('static', filename='js/polylabel.js') }}"></script>
<script src="{{ url_for('static', filename='js/underscore.js') }}"></script>
<script src="{{ url_for('static', filename='js/colormap.js') }}"></script>
<script src="{{ url_for('static', filename='js/leaflet-geotiff.js') }}"></script>
<script src="{{ url_for('static', filename='js/geotiff.js') }}"></script>
<script src="{{ url_for('static', filename='js/plotty.js') }}"></script>
<script src="{{ url_for('static', filename='js/leaflet-ajax.js') }}"></script>
{% endblock %}
