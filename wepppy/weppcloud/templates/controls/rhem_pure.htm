{# Doc: controllers_js/README.md â€” RHEM Controller Reference (2025 helper migration) #}
{% import "controls/_pure_macros.html" as ui %}
{% from "shared/console_macros.htm" import button_row %}

{% set description %}
  <p class="wc-text-muted">
    Run the Rangeland Hydrology and Erosion Model (RHEM) against the current project to produce
    erosion metrics for rangeland-dominated watersheds. Execute WEPP first so base hydrology is available.
  </p>
{% endset %}

{% call ui.control_shell(
     form_id="rhem_form",
     title="RHEM",
     collapsible=False,
     description=description,
     status_panel_options={"id": "rhem_status_panel", "height": "4rem"},
     summary_panel_override=ui.legacy_summary_panel(),
     stacktrace_panel_override=ui.stacktrace_panel(
       id="rhem_stacktrace_panel",
       summary="Details",
       collapsed=True,
       body_id="stacktrace",
       empty_state="No stack trace recorded."
     )
   ) %}

  {% call button_row() %}
    <button
      id="btn_run_rhem"
      type="button"
      class="pure-button pure-button-primary disable-readonly"
      data-rhem-action="run">
      Run RHEM
    </button>
  {% endcall %}
  {{ ui.job_hint("hint_run_rhem", extra_class="wc-field__help") }}

{% endcall %}
