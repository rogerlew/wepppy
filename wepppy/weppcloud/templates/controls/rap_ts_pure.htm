{# Doc: controllers_js/README.md â€” RAP Time Series Controller Reference (2025 helper migration) #}
{% import "controls/_pure_macros.html" as ui %}
{% from "shared/console_macros.htm" import button_row %}

{% set description %}
  <p class="wc-text-muted">
    Acquire Rangeland Analysis Platform (RAP) time-series rasters for this run. The service
    downloads and processes the selected datasets so they are available for reports and analysis.
  </p>
{% endset %}

{% call ui.control_shell(
     form_id="rap_ts_form",
     title="RAP Time Series Acquisition",
     collapsible=False,
     description=description,
     status_panel_options={"id": "rap_ts_status_panel", "height": "4rem"},
     stacktrace_panel_options={"panel_id": "rap_ts_stacktrace_panel"}
   ) %}

  <section class="wc-rap-ts">
    {% call button_row() %}
      <button
        id="btn_build_rap_ts"
        type="button"
        class="pure-button pure-button-primary disable-readonly"
        data-rap-action="run">
        <span>Acquire RAP Data</span>
      </button>
    {% endcall %}
    {{ ui.job_hint("hint_build_rap_ts", extra_class="wc-field__help") }}
  </section>
  {% set _rap_schedule = rap_schedule | default([], true) %}
  <script type="application/json" id="rap_ts_schedule_data" data-rap-schedule>{{ _rap_schedule | tojson }}</script>
{% endcall %}
