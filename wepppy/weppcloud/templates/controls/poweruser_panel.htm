<!-- Modal -->
<div class="modal fade" id="puModal" role="dialog">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
reset_land_soil_lookup =  function() {
  $.get({
      url: "{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/tasks/reset_disturbed/",
      cache: false,
      success: function success(response) {
          if (response.Success == true) {
              alert("Land Soil Lookup has been reset");
          } else {
              alert("Error resetting Land Soil Lookup");
          }
      },
      error: function error(jqXHR)  {
          console.log(jqXHR.responseJSON);
      },
      fail: function fail(error) {
          alert("Error clearing locks");
      }
  });
};

clear_locks = function() {
  $.get({
      url: "{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/tasks/clear_locks/",
      cache: false,
      success: function success(response) {
          if (response.Success == true) {
              alert("Locks have been cleared");
          } else {
              alert("Error clearing locks");
          }
      },
      error: function error(jqXHR)  {
          console.log(jqXHR.responseJSON);
      },
      fail: function fail(error) {
          alert("Error clearing locks");
      }
  });
};
</script>
<div class="modal-dialog">
  <!-- Modal content-->
  <div class="modal-content">
    <div class="modal-header">
      <h4 data-toc-skip class="modal-title">PowerUser Panel</h4>
      <button type="button" class="close" data-dismiss="modal">&times;</button>
    </div>
    <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <h5>NoDbs</h5>
            <div class="list-group">
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/ron.nodb">nodb.ron</a>
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/topaz.nodb">nodb.topaz</a>
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/watershed.nodb">nodb.watershed</a>
              {% if 'rhem' not in ron.mods %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/landuse.nodb">nodb.landuse</a>
              {% endif %}
              {% if 'shrubland' in ron.mods %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/shrubland.nodb">nodb.shrubland</a>
              {% endif %}
              {% if 'rangeland_cover' in ron.mods %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/rangeland_cover.nodb">nodb.rangeland_cover</a>
              {% endif %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/soils.nodb">nodb.soils</a>
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/climate.nodb">nodb.climate</a>
              {% if 'rhem' in ron.mods %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/rhem.nodb">nodb.rhem</a>
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/rhempost.nodb">nodb.rhempost</a>
              {% endif %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/wepp.nodb">nodb.wepp</a>
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/wepppost.nodb">nodb.wepppost</a>
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/observed.nodb">nodb.observed</a>
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/unitizer.nodb">nodb.unitizer</a>
              {% if 'baer' in ron.mods %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/baer.nodb">nodb.baer</a>
              {% endif %}
              {% if 'disturbed' in ron.mods %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/disturbed.nodb">nodb.disturbed</a>
              {% endif %}
              {% if 'rred' in ron.mods %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/rred.nodb">nodb.rred</a>
              {% endif %}
              {% if 'lt' in ron.mods %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/lt.nodb">nodb.lt</a>
              {% endif %}
              {% if 'ash' in ron.mods %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/ash.nodb">nodb.ash</a>
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/ashpost.nodb">nodb.ashpost</a>
              {% endif %}
              {% if 'debris_flow' in ron.mods %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/debris_flow.nodb">nodb.debris_flow</a>
              {% endif %}
            </div>
            <br>
            <div class="list-group">
              <a class="list-group-item list-group-item-action text-danger" onclick="clear_locks()" href="#">Clear Locks</a>
            </div>
          </div>
          <div class="col-md-6">
            <h5>Directory Views</h5>
            <div class="list-group">
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/">/</a>
              {% if 'rred' in ron.mods %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/rred/">rred/</a>
              {% endif %}
              {%  if 'rhem' not in ron.mods %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/wepp/runs/">wepp/runs/</a>
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/wepp/output/">wepp/output/</a>
              {% else %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/rhem/runs/">rhem/runs/</a>
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/rhem/output/">rhem/output/</a>
              {% endif %}
              {% if 'ash' in ron.mods %}
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/ash/">ash/</a>
              {% endif %}
            </div>
            <br>
            <h5>Data Tables</h5>
            <div class="list-group">
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/watershed/hillslopes.parquet/">Hillslope</a>
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/watershed/channels.parquet">Channels</a>
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/landuse/landuse.parquet/">Landuse</a>
              <a class="list-group-item list-group-item-action" target="_blank" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/browse/soils/soils.parquet/">Soils</a>
            </div>
            <br>
            {% if 'disturbed' in ron.mods %}
            <h5>Disturbed</h5>
            <div class="list-group">
              <a class="list-group-item list-group-item-action" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/modify_disturbed" target="_blank">Modify Disturbed Parameters</a>
              <a class="list-group-item list-group-item-action" onclick="reset_land_soil_lookup()" href="#">Reset Disturbed Parameters</a>
              <a class="list-group-item list-group-item-action" href="https://doc.wepp.cloud/disturbed_land_soil_lookup_doc.html" target="_blank">Disturbed Parameters Documentation</a>
            </div>
            {% endif %}
            <br>
            <h5>Omni (Experimental)</h5>
            {% if 'omni' not in ron.mods %}
            <div class="list-group">
              <a class="list-group-item list-group-item-action" href="{{site_prefix}}/runs/{{ ron.runid }}/{{ ron.config_stem }}/tasks/omni_migration" target="_blank">Omni Migration</a>
            </div>
            {% endif %}
          </div>
        </div>
    </div>
  </div>
</div>
</div>
