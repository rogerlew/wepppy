{% import "controls/_pure_macros.html" as ui %}
{% from "shared/console_macros.htm" import button_row %}

<div id="modify_rangeland_cover_form" class="wc-map-form hide-readonly">
  <h3 class="wc-map-panel__title">Modify Rangeland Cover</h3>
  {{ ui.checkbox_field(
       "checkbox_modify_rangeland_cover",
       "Enable selection mode",
       help="Click subcatchments to select or deselect them. Hold Shift and drag to draw a selection box.",
       attrs={"data-rcm-action": "toggle-selection"}
     ) }}

  {{ ui.textarea_field(
       "textarea_modify_rangeland_cover",
       "Topaz IDs",
       rows=3,
       placeholder="Topaz IDs",
       attrs={"required": "required", "data-rcm-field": "topaz-ids"}
     ) }}

  <h4 class="wc-map-panel__subtitle">Foliar Cover (%)</h4>
  <div class="wc-map-grid wc-map-grid--split">
    {{ ui.text_field(
         "input_bunchgrass_cover",
         "Bunch Grass",
         extra_control_class="disable-readonly",
         attrs={"data-rcm-field": "bunchgrass"}
       ) }}
    {{ ui.text_field(
         "input_forbs_cover",
         "Forbs/Annuals",
         extra_control_class="disable-readonly",
         attrs={"data-rcm-field": "forbs"}
       ) }}
    {{ ui.text_field(
         "input_sodgrass_cover",
         "Sod Grass",
         extra_control_class="disable-readonly",
         attrs={"data-rcm-field": "sodgrass"}
       ) }}
    {{ ui.text_field(
         "input_shrub_cover",
         "Shrub",
         extra_control_class="disable-readonly",
         attrs={"data-rcm-field": "shrub"}
       ) }}
  </div>

  <h4 class="wc-map-panel__subtitle">Ground Cover (%)</h4>
  <div class="wc-map-grid wc-map-grid--split">
    {{ ui.text_field(
         "input_basal_cover",
         "Basal Plant Cover",
         extra_control_class="disable-readonly",
         attrs={"data-rcm-field": "basal"}
       ) }}
    {{ ui.text_field(
         "input_rock_cover",
         "Rock",
         extra_control_class="disable-readonly",
         attrs={"data-rcm-field": "rock"}
       ) }}
    {{ ui.text_field(
         "input_litter_cover",
         "Litter",
         extra_control_class="disable-readonly",
         attrs={"data-rcm-field": "litter"}
       ) }}
    {{ ui.text_field(
         "input_cryptogams_cover",
         "Biological Crusts Cover",
         extra_control_class="disable-readonly",
         attrs={"data-rcm-field": "cryptogams"}
       ) }}
  </div>

  {% call button_row() %}
    <button
      id="btn_modify_rangeland_cover"
      type="button"
      class="pure-button pure-button-primary"
      data-rcm-action="submit">
      Modify Rangeland Cover
    </button>
  {% endcall %}

  <p class="wc-text-muted">Rebuild soils after changing managements.</p>

  {{ ui.status_panel(
       id="modify_rangeland_status_panel",
       title="Status",
       variant="compact",
       log_id="status",
       height="3.25rem"
     ) }}

  {{ ui.stacktrace_panel(
       id="modify_rangeland_stacktrace_panel",
       summary="Details",
       collapsed=True,
       body_id="stacktrace",
       empty_state="No stack trace captured."
     ) }}
</div>
